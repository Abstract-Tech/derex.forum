stages:
  - stage: Test
    jobs:
      - job: MinimalIronwoodUnPinned
        timeoutInMinutes: 40
        pool:
          vmImage: $(UBUNTU_VERSION)
        variables:
          OPENEDX_VERSION: ironwood
          JOB_VARIANT: UnPinned
        steps:
          - template: test_project.yml

      - job: MinimalIronwoodPinned
        timeoutInMinutes: 40
        pool:
          vmImage: $(UBUNTU_VERSION)
        variables:
          OPENEDX_VERSION: ironwood
          JOB_VARIANT: Pinned
        steps:
          - template: test_project.yml

      - job: MinimalJuniperUnPinned
        timeoutInMinutes: 40
        pool:
          vmImage: $(UBUNTU_VERSION)
        variables:
          OPENEDX_VERSION: juniper
          JOB_VARIANT: UnPinned
        steps:
          - template: test_project.yml

      - job: MinimalJuniperPinned
        timeoutInMinutes: 40
        pool:
          vmImage: $(UBUNTU_VERSION)
        variables:
          OPENEDX_VERSION: juniper
          JOB_VARIANT: Pinned
        steps:
          - template: test_project.yml

      - job: MinimalKoaUnPinned
        timeoutInMinutes: 40
        pool:
          vmImage: $(UBUNTU_VERSION)
        variables:
          OPENEDX_VERSION: koa
          JOB_VARIANT: UnPinned
        steps:
          - template: test_project.yml

      - job: MinimalKoaPinned
        timeoutInMinutes: 40
        pool:
          vmImage: $(UBUNTU_VERSION)
        variables:
          OPENEDX_VERSION: koa
          JOB_VARIANT: Pinned
        steps:
          - template: test_project.yml
